@model SlvTeam.Domain.Models.UserProfileModel
@{
    ViewData["Title"] = "Профиль";
}


<div class="row">
    <div class="col-md-4">
        <div class="polaroid">
            <img  style='height: 300px;' src="data:image/jpeg;base64,@(Convert.ToBase64String(Model.User.Image))" />
        </div>
     
        <br/>
        <br/>

        <a class="btn btn-info col-md-12" asp-controller="Profiles" asp-action="EditProfilePage">
            <i class="fas fa-user-edit"></i>
            Редактировать профиль
        </a>

    </div>


    <div class="col-md-8">
        <br />
        <h4>@Model.User.FirstName @Model.User.LastName </h4>
        <table class="table">
            <tr>
                <th>О себе</th>
                <td>@Model.User.AboutAs</td>
            </tr>
            <tr>
                <th>Последний раз отмечался здесь</th>
                @if(string.IsNullOrWhiteSpace(Model.User.Location))
                {
                    <td>
                        <div id="textCoords">
                            <button class="btn btn-success" onclick="AddCoords()"> Добавить локацию </button>
                        </div>
                    </td>
                }
                else
                {
                    <td>
                        @Model.User.Location
                        <br/>
                        <br/>
                        <button class="btn btn-success" onclick="AddCoords()">
                            <i class="fas fa-map-marked-alt"></i>
                            Обновить локацию
                        </button>
                    </td>
                }
            </tr>
        </table>
    </div>
    <br/>
    <br />
</div>
<h4 class="text-center">
    Ответы на вопросы
    <i class="fas fa-comments"></i>
    <br />
    @if (Model.Questions.Length == 0)
    {
        <div class="text-center">
            <h4 class="text-info col-md-12">Этот пользователь ещё не отвечал на вопросы...</h4>
        </div>
    }
</h4>
<br />
<br />
@foreach(var question in Model.Questions)
{
    <div class="card p-3 text-right col-md-12">
        <blockquote class="blockquote mb-0">
            <p>@question.TextAnswer</p>
            <footer class="blockquote-footer">
                <small class="text-muted">
                    @question.TextQuestion
                </small>
                <br/>
                <small>@question.TimeAnswer</small>
            </footer>
            <form method="post" asp-controller="Questions" asp-action="DeleteQuestion" asp-route-returnUrl="@Url.Action("Profile", "Profiles")" asp-route-questionID="@question.Id">
                <br />
                <button type="submit" class="btn btn-danger">Удалить</button>
            </form>
        </blockquote>
    </div>
    <br/>
}


